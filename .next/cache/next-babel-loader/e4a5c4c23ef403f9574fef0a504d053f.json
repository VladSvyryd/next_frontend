{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vlado\\\\Documents\\\\next\\\\components\\\\nav\\\\Nav.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport \"./nav.module.css\";\nimport Link from \"next/link\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nconst initialToken = localStorage.getItem(\"jwt\");\nconst initialUser = localStorage.getItem(\"user\");\nexport const Nav = () => {\n  const {\n    0: input,\n    1: setInput\n  } = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const {\n    0: token,\n    1: setToken\n  } = useState(initialToken || \"\");\n  const {\n    0: user,\n    1: setUser\n  } = useState(initialToken.length < 0 ? \"\" : JSON.parse(initialUser));\n\n  const handleChange = event => {\n    setInput(_objectSpread({}, input, {\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  const handleSubmit = () => {\n    axios({\n      method: \"post\",\n      url: \"http://localhost:1337/auth/local\",\n      data: {\n        identifier: input.email,\n        password: input.password\n      }\n    }).then(response => {\n      // Handle success.\n      console.log(\"Well done!\");\n      console.log(\"User profile\", response.data.user);\n      console.log(\"User token\", response.data.jwt);\n      setToken(response.data.jwt);\n      localStorage.setItem(\"jwt\", response.data.jwt);\n      localStorage.setItem(\"user\", JSON.stringify(response.data.user));\n    }).catch((error, message) => {\n      // Handle error.\n      console.log(\"An error occurred:\", error);\n      console.log(error.response.data.message[0].messages[0]);\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"This is my Nav\"), __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-around\",\n      height: \"80px\",\n      background: \"aquamarine\",\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Home\")), __jsx(Link, {\n    href: \"/about\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"About\")), __jsx(Link, {\n    href: \"/contact\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Contact\")), __jsx(Link, {\n    href: \"/register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Register\")), !token.length > 0 ? __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Email:\", __jsx(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    value: input.email,\n    onChange: e => handleChange(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  })), __jsx(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Password:\", __jsx(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: input.password,\n    onChange: e => handleChange(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  })), __jsx(\"button\", {\n    onClick: () => handleSubmit(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Login\")) : __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, user.username)));\n};","map":{"version":3,"sources":["C:/Users/vlado/Documents/next/components/nav/Nav.js"],"names":["Link","useState","axios","initialToken","localStorage","getItem","initialUser","Nav","input","setInput","email","password","token","setToken","user","setUser","length","JSON","parse","handleChange","event","target","name","value","handleSubmit","method","url","data","identifier","then","response","console","log","jwt","setItem","stringify","catch","error","message","messages","display","flexDirection","justifyContent","height","background","alignItems","e","username"],"mappings":"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","sourcesContent":["import \"./nav.module.css\";\r\nimport Link from \"next/link\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nconst initialToken = localStorage.getItem(\"jwt\");\r\nconst initialUser = localStorage.getItem(\"user\");\r\nexport const Nav = () => {\r\n  const [input, setInput] = useState({ email: \"\", password: \"\" });\r\n  const [token, setToken] = useState(initialToken || \"\");\r\n  const [user, setUser] = useState(\r\n    initialToken.length < 0 ? \"\" : JSON.parse(initialUser)\r\n  );\r\n  const handleChange = event => {\r\n    setInput({ ...input, [event.target.name]: event.target.value });\r\n  };\r\n  const handleSubmit = () => {\r\n    axios({\r\n      method: \"post\",\r\n      url: \"http://localhost:1337/auth/local\",\r\n      data: {\r\n        identifier: input.email,\r\n        password: input.password\r\n      }\r\n    })\r\n      .then(response => {\r\n        // Handle success.\r\n        console.log(\"Well done!\");\r\n        console.log(\"User profile\", response.data.user);\r\n        console.log(\"User token\", response.data.jwt);\r\n        setToken(response.data.jwt);\r\n        localStorage.setItem(\"jwt\", response.data.jwt);\r\n        localStorage.setItem(\"user\", JSON.stringify(response.data.user));\r\n      })\r\n      .catch((error, message) => {\r\n        // Handle error.\r\n        console.log(\"An error occurred:\", error);\r\n        console.log(error.response.data.message[0].messages[0]);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div>This is my Nav</div>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          justifyContent: \"space-around\",\r\n          height: \"80px\",\r\n          background: \"aquamarine\",\r\n          alignItems: \"center\"\r\n        }}\r\n      >\r\n        <Link href=\"/\">\r\n          <a>Home</a>\r\n        </Link>\r\n        <Link href=\"/about\">\r\n          <a>About</a>\r\n        </Link>\r\n        <Link href=\"/contact\">\r\n          <a>Contact</a>\r\n        </Link>\r\n        <Link href=\"/register\">\r\n          <a>Register</a>\r\n        </Link>\r\n        {!token.length > 0 ? (\r\n          <div>\r\n            <label>\r\n              Email:\r\n              <input\r\n                type=\"text\"\r\n                name=\"email\"\r\n                value={input.email}\r\n                onChange={e => handleChange(e)}\r\n              />\r\n            </label>\r\n            <label>\r\n              Password:\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={input.password}\r\n                onChange={e => handleChange(e)}\r\n              />\r\n            </label>\r\n            <button onClick={() => handleSubmit()}>Login</button>\r\n          </div>\r\n        ) : (\r\n          <div>{user.username}</div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}